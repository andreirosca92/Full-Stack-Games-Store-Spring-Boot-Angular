
<div *ngIf="isValidFormSubmitted" class="submitted"> Form submitted successfully.</div>
<h2 id="title" >Create new Game: </h2>
  <div id="forms" class="page-layout simple fullwidth" fxLayout="column">
   
    <div class="content p-24">
      <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
     

      <form  [formGroup]="GamesForm"  method="post" (ngSubmit)="onFormSubmit()" class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto"  >
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field   fxFlex="30" class="pr-4">
            
            <mat-label>Name</mat-label>
            <input  matInput formControlName="name" >
            <mat-error  *ngIf="name?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted">name is required</mat-error>
              
            </mat-form-field> 
            <mat-form-field  fxFlex="40" class="pr-4">
              <mat-label>Generies</mat-label>
              <mat-select formControlName="genre">
               
                <mat-option   *ngFor="let gen of generies ? generies : []" [value]="gen" >{{gen}}</mat-option>
              </mat-select>
              <mat-error  *ngIf="genre?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">genre is required.</mat-error>
              </mat-form-field>

              <mat-form-field floatLabel="always"  fxFlex="30" class="pr-4" >
                <mat-label>Price</mat-label>
                <input  matInput type="number"  formControlName="price"  class="example-right-align" placeholder="0">
                <mat-error  *ngIf="price?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">price is required.</mat-error>
                <span matTextPrefix>â‚¬&nbsp;</span>
                <span matTextSuffix>.00</span>
              </mat-form-field>
      
        
              

        </div>
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field  fxFlex="50" class="pr-4">
            <mat-label>Rating</mat-label>
            <mat-select formControlName="rating">
          
              <mat-option   *ngFor="let rt of ratings" [value]="rt" >{{rt}}</mat-option>
            </mat-select>
            <mat-error  *ngIf="rating?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">rating is required.</mat-error>
            </mat-form-field>
  
    
         <mat-form-field  fxFlex="50" class="pr-4" >
            <mat-label>Platform</mat-label>
            <mat-select  formControlName="platform" >
        
              <mat-option  *ngFor="let plt of platforms" [value]="plt" >{{plt}}</mat-option>
            </mat-select>
            <mat-error  *ngIf="platform?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">platform is required.</mat-error>
          </mat-form-field>
     
          

        </div>
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field  fxFlex="50" class="pr-4">
            <mat-label>Condition</mat-label>
            <mat-select formControlName="condition">
            
              <mat-option    *ngFor="let cnd of conditions" [value]="cnd" >{{cnd}}</mat-option>
            </mat-select>
            <mat-error  *ngIf="condition?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">platform is required.</mat-error>
          </mat-form-field>
 
          <mat-form-field   fxFlex="50" class="pr-4">
            <mat-label>Released Date</mat-label>
            <input   matInput [matDatepicker]="picker"  formControlName="released"  placeholder="Inserisci la data di rilascio?" readonly>
            <mat-error  *ngIf="released?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">platform is required.</mat-error>
            <mat-hint>DD/MM/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field  fxFlex="50" class="pr-4">
            <mat-label>Image Url</mat-label>
            <input matInput formControlName="image"  >
            <mat-error  *ngIf="image?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">platform is required.</mat-error>
          </mat-form-field>
          <mat-form-field   fxFlex="50" class="pr-4">
            <mat-label>Publisher</mat-label>
            <input  matInput  formControlName="name" >
            <mat-error  *ngIf="publisher_name?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">platform is required.</mat-error>
            </mat-form-field>
        </div>
        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto" id="description">
          <mat-form-field   fxFlex="100">
            <mat-label>Description</mat-label>
            <textarea matInput placeholder="Description" formControlName="description"  ></textarea>
            <mat-error  *ngIf="description?.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">platform is required.</mat-error>
          </mat-form-field>
        </div>
        <hr>
        <div fxLayout="row" fxLayoutAlign="center center" fxFlex="1 0 auto">
         
            <div formArrayName="developer"  fxFlex="100" fxLayoutAlign="center center"  >
              
              <div *ngFor="let _ of developer.controls; index as i">
  
                   <ng-container [formGroupName]="i" >
                    <div class="pr-4 pl-4 mb-2" >
                      <mat-error *ngIf="developer.hasError('maxLength')">Max 3 Developer</mat-error>
                      <mat-form-field fxFlex="100">
                      <mat-label>Developer</mat-label>
                      <input matInput formControlName="company_name" >
                      
                      </mat-form-field>
                    </div>
                    
               
          
                   </ng-container>
                  
                   <div   fxLayoutAlign="center center" class="mt-3 mb-2" >
                    <button  mat-raised-button color="primary" type="button" (click)="deleteDeveloper(i)">Delete</button>
                   </div>
                    
                  
                  
  
                    </div>
              
           
                
            
              
     
                  </div> 
         
     
          
        </div>
    
        <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="center center" >
          <div  fxFlex="100" class="pr-4 pl-4" fxLayoutAlign="center center" >
            <button mat-raised-button color="primary" type="button" (click)="addDeveloper()">Add More Developer</button>
          </div>
          
        </div>
        <hr>
        <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="center center" >
          <div fxFlex="100" fxLayoutAlign="center center">
            <button mat-raised-button color="primary" button="submit" >CREATE</button>
          </div>
          
     
      
        </div>
        <hr>
        <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="center center">
          <div  fxFlex="100" fxLayoutAlign="center center">
                 
            <button  mat-raised-button color="accent" type="button" (click)="resetGamesForm()">RESET</button>
          </div>
        </div>
        <hr>
      </form>
    </div>
    
      </div>
    </div>

    




 
    
 
    


  <!-- <div class="text-center" fxFlex="5%" fxLayout="column"> 
    <input class="form-control" type="file" 
            > 
  
    <button 
        class="btn btn-success"> 
        Upload 
    </button> 
  </div> -->
 
      
        
   
      
        

    
  


  
    
     
      
      
      
        
    



    





  

